<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>The Boys: The Game</title>
<link rel="shortcut icon" href="icon.png" type="image/x-icon">
<link rel="stylesheet" href="theboys.css">

</head>

<body>

<div class="title-screen" id="titleScreen">
  <div class="title-panel">
    <div class="version-corner">v1.0.0</div>

    <h1>THE BOYS</h1>
    <p class="subtitle">CHOOSE YOUR FATE</p>
    <p class="subtitle">COINS: <span id="coinTitle">0</span></p>

    <div class="menu">
        <button class="game-btn" onclick="openStory()">STORY MODE</button>
        <button class="game-btn" onclick="startInfinite()">INFINITE MODE</button>
        <button class="game-btn" onclick="openSelect()">ULTIMATE CUSTOM MODE</button>
    </div>

    <div class="select hidden" id="selectMenu">
      <h2>STORY CHARACTERS</h2>
      <div class="row">
<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(0,this)">
    <img src="neil.png">
  </button>
  <div class="char-name">Neil</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(1,this)">
    <img src="cam.png">
  </button>
  <div class="char-name">Cameron</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(2,this)">
    <img src="smeff.png">
  </button>
  <div class="char-name">Old Man Smeff</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(3,this)">
    <img src="chip.png">
  </button>
  <div class="char-name">Chip</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(4,this)">
    <img src="sara.png">
  </button>
  <div class="char-name">Sara</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(5,this)">
    <img src="phil.png">
  </button>
  <div class="char-name">Phil</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(6,this)">
    <img src="red.png">
  </button>
  <div class="char-name">Ultra Sus Cameron</div>
</div>

<button class="char-btn custom-char hidden" id="customCharBtn">
  <span class="sparkle">✨</span>
  <span class="sparkle">✨</span>
  <span class="bonus">100%</span>
  <img id="customCharPreview" src="upload.png">
</button>

<input
  type="file"
  id="customCharInput"
  accept="image/*"
  hidden
/>
      </div>

      <h2>CHARACTERS</h2>
      <div class="row">
<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(7,this)">
    <img src="antonio.png">
  </button>
  <div class="char-name">Antonio</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(8,this)">
    <img src="chog e choggers.png">
  </button>
  <div class="char-name">Chog E Choggers</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(9,this)">
    <img src="takochan.png">
  </button>
  <div class="char-name">Takochan</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(10,this)">
    <img src="ringo.png">
  </button>
  <div class="char-name">Ringo Starr</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(11,this)">
    <img src="delicious.png">
  </button>
  <div class="char-name">Mr Delicious</div>
</div>

<div class="char-wrap">
  <button class="char-btn" onclick="pickCharacter(12,this)">
    <img src="furret.png">
  </button>
  <div class="char-name">Furret</div>
</div>
      </div>

      <h2>STORY THEMES</h2>
      <div class="row">
        <button class="theme-btn theme-hell" data-theme="0" onclick="pickTheme(0,this)">HELL</button>
        <button class="theme-btn theme-heaven" data-theme="1" onclick="pickTheme(1,this)">HEAVEN</button>
        <button class="theme-btn theme-ancient" data-theme="2" onclick="pickTheme(2,this)">MESOPOTAMIA</button>
        <button class="theme-btn theme-woods" data-theme="3" onclick="pickTheme(3,this)">THE WOODS</button>
        <button class="theme-btn theme-universal" data-theme="4" onclick="pickTheme(4,this)">UNIVERSAL</button>
        <button class="theme-btn theme-server" data-theme="5" onclick="pickTheme(5,this)">THE SERVER</button>
        <button class="theme-btn theme-susfeed" data-theme="6" onclick="pickTheme(6,this)">SUSFEED HQ</button>
      </div>

      <h2>THEMES</h2>
      <div class="row">
        <button class="theme-btn theme-dojo" data-theme="7" onclick="pickTheme(7, this)">DOJO</button>
        <button class="theme-btn theme-choggers" data-theme="8" onclick="pickTheme(8, this)">CHUCK E CHEESE'S</button>
        <button class="theme-btn theme-tako" data-theme="9" onclick="pickTheme(9, this)">OSAKA</button>
        <button class="theme-btn theme-ringo" data-theme="10" onclick="pickTheme(10, this)">OCTOPUS'S GARDEN</button>
        <button class="theme-btn theme-rax" data-theme="11" onclick="pickTheme(11, this)">RAX</button>
        <button class="theme-btn theme-furret" data-theme="12" onclick="pickTheme(12, this)">ROUTE 1</button>
      </div>

      <button class="start-run" onclick="startSelected()">BEGIN RUN</button>
    </div>

  </div>
</div>

<div class="page">
  <header class="header">
    <h1>The Boys</h1>
    <p>The Game</p>
  </header>

  <div class="game-shell">
    <div class="frame">
<div class="hud" id="hud">
  <div class="hud-row">
    <span class="hud-label">DIST</span>
    <span class="hud-value" id="dist">0</span>
  </div>
  <div class="hud-row">
    <span class="hud-label">BEST</span>
    <span class="hud-value" id="best">0</span>
  </div>
  <div class="hud-row">
    <span class="hud-label">COINS</span>
    <span class="hud-value" id="coinHud">0</span>
  </div>
</div>
      <canvas id="c" width="1280" height="720"></canvas>
      <div class="pause-menu" id="pauseMenu">
        <button class="game-btn" onclick="resumeGame()">RESUME</button>
      <a href="The Boys the Game.html"><button class="game-btn">TITLE</button></a>
    </div>
      <div class="start-overlay" id="overlay">
        <button class="start-btn">BEGIN</button>
      </div>
    </div>
  </div>

  <div class="controls">
    WASD MOVE · MOUSE DRAG ROTATE · SPACE JUMP
  </div>
</div>

<script src="themes.js"></script>
<script src="theboys.js"></script>
<script src="story.js"></script>
<script>
const CHARACTER_COST = [0, 500, 500, 500, 500, 500, 500, 1000, 1000, 1000, 1000, 1000, 1000]

let unlockedCharacters = JSON.parse(
  localStorage.getItem("unlockedCharacters") || "[0]"
)

function startInfinite(){
gameMode="infinite"
document.getElementById("titleScreen").style.display="none"
}

function updateCoinUI(){
  document.getElementById("coinTitle").textContent = coinCount
  const hud = document.getElementById("coinHud")
  if(hud) hud.textContent = coinCount
}

function updateCharacterLocks(){
  document.querySelectorAll(".char-btn:not(.custom-char)").forEach((btn,i)=>{
    if(unlockedCharacters.includes(i)){
      btn.classList.remove("locked")
      btn.removeAttribute("data-req")
      return
    }

    btn.classList.add("locked")
    btn.setAttribute("data-req", CHARACTER_COST[i])
  })

  if(unlockedCharacters.length === CHARACTER_COST.length){
    document.getElementById("customCharBtn").classList.remove("hidden")
  }
}

function openSelect(){
  updateCoinUI()
  document.getElementById("selectMenu").classList.remove("hidden")
  updateThemeLocks()
  updateCharacterLocks()
}

function pickCharacter(i, el){
  if(unlockedCharacters.includes(i)){
    lockedCharacter = i
  }
  else{
    const cost = CHARACTER_COST[i]
    if(coinCount < cost) return

    coinCount -= cost
    unlockedCharacters.push(i)

    localStorage.setItem("coins", coinCount)
    localStorage.setItem(
      "unlockedCharacters",
      JSON.stringify(unlockedCharacters)
    )

    updateCoinUI()
    updateCharacterLocks()
    lockedCharacter = i
  }

  document.querySelectorAll(".char-btn").forEach(b=>b.classList.remove("selected"))
  el.classList.add("selected")
}

function pickTheme(i, el){
  if(!isThemeUnlocked(i)) return

  lockedTheme = i
  document.querySelectorAll(".theme-btn").forEach(b=>b.classList.remove("selected"))
  el.classList.add("selected")
}

function startSelected(){
if(lockedCharacter===null||lockedTheme===null)return
gameMode="select"
document.getElementById("titleScreen").style.display="none"
}

const customCharBtn = document.getElementById("customCharBtn")
const customCharInput = document.getElementById("customCharInput")
const customCharPreview = document.getElementById("customCharPreview")

customCharBtn.onclick = () => {
  customCharInput.click()
}

customCharInput.onchange = e => {
  const file = e.target.files[0]
  if(!file) return

  const reader = new FileReader()
  reader.onload = () => {
    localStorage.setItem("customCharacter", reader.result)
    customCharPreview.src = reader.result
    customCharBtn.classList.add("has-image")
    lockedCharacter = "custom"
  }
  reader.readAsDataURL(file)
}

function startSelected(){
  if(lockedCharacter === null || lockedTheme === null) return

  gameMode = "select"
  document.getElementById("titleScreen").style.display = "none"
}

updateCoinUI()
</script>

</body>
</html>
